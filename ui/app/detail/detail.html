<div class="row detail">
  <div class="col-sm-8">
    <h3><search-image doc-type="ctrl.binaryContentType || ('application/' + ctrl.type)" image-type="'details'"></search-image>{{ctrl.binaryFilePath || ctrl.uri}}</h3>
    <tabset type="pills">
      <tab active="ctrl.defaultTab">
        <tab-heading>{{ctrl.type | uppercase}}</tab-heading>
        <div class="col-sm-9">
          <json-explorer ng-if="ctrl.type==='json'" data="ctrl.json"></json-explorer>
          <pre ng-if="ctrl.type==='xml'" class="pre-xml">{{ctrl.xml}}</pre>
          <a ng-if="ctrl.type==='binary' && !ctrl.binaryFilePath" target="_blank" ng-href="/v1/documents?uri={{ctrl.uri}}&transform=download" class="btn btn-default">Download</a>
          <div ng-if="ctrl.binaryFilePath">
            <a target="_blank" ng-href="/v1/documents?uri={{ctrl.binaryFilePath}}&transform=download" class="btn btn-default">Download</a>
            <div ng-if="ctrl.binaryType === 'pdf'">
              <object data="/v1/documents?uri={{ctrl.binaryFilePath}}&format=binary" content-type="{{ctrl.binaryContentType}}" class="preview-binary"></object>
            </div>
            <div ng-if="ctrl.binaryType === 'image'">
              <img ng-src="/v1/documents?uri={{ctrl.binaryFilePath}}&format=binary" />
            </div>
            <div ng-if="ctrl.binaryType === 'other'">
              <div ng-bind-html="ctrl.htmlContents"></div>
            </div>
          </div>
        </div>
      </tab>
      <tab ng-if="ctrl.type!=='json'">
        <tab-heading>JSON</tab-heading>
        <div class="col-sm-9">
          <json-explorer data="ctrl.json"></json-explorer>
        </div>
      </tab>
      <tab ng-if="ctrl.type!=='xml'">
        <tab-heading >XML</tab-heading>
        <div class="col-sm-9">
          <pre class="pre-xml">{{ctrl.xml}}</pre>
        </div>
      </tab>
    </tabset>
  </div>
  <div class="col-sm-4">
    <!-- show (links to) similar documents -->
    <div class="panel panel-default">
      <div class="panel-heading">Similar</div>
      <div class="panel-body">
        <ml-similar uri="{{ctrl.uri}}" limit="5"></ml-similar>
      </div>
    </div>
  </div>
</div>
